<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=0">
    <title>index</title>

    <!-- import element CSS -->
    <link href="https://cdn.bootcss.com/element-ui/2.12.0/theme-chalk/index.css" rel="stylesheet">
    <!-- import github-markdown CSS -->
    <link href="https://cdn.bootcss.com/github-markdown-css/3.0.1/github-markdown.min.css" rel="stylesheet">
    <!-- import 代码高亮 CSS -->
    <link href="https://cdn.bootcss.com/prism/1.17.1/themes/prism-okaidia.min.css" rel="stylesheet">
    <!-- import 代码行号 CSS -->
    <link href="https://cdn.bootcss.com/prism/1.17.1/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">
    <!-- import 代码块工具条 CSS -->
    <link href="https://cdn.bootcss.com/prism/1.17.1/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet">

    <style>
        .markdown-body {
            box-sizing: border-box;
            min-width: 200px;
            max-width: 980px;
            margin: 0 auto;
            padding: 45px;
        }

        /*设置代码块中的字体大小*/
        code[class*=language-], pre[class*=language-] {
            font-size: 13px;
        }

        @media (max-width: 767px) {
            .markdown-body {
                padding: 15px;
            }
        }

        /*将级联选择器的高度变高*/
        .el-cascader-menu__wrap {
            height: 300px;
        }
    </style>
</head>
<body >
    <div id="app" class="markdown-body">


        <el-breadcrumb separator="/">
            <el-breadcrumb-item :to="{ path: '/' }">首页</el-breadcrumb-item>
            <el-breadcrumb-item><a href="/">活动管理</a></el-breadcrumb-item>
            <el-breadcrumb-item>活动列表</el-breadcrumb-item>
            <el-breadcrumb-item>活动详情</el-breadcrumb-item>
        </el-breadcrumb>


        <button @click="dir_index=1">dsfsdf</button>
            <!--大纲-->
            <el-drawer
                    title="我是标题"
                    :visible.sync="outline_drawer"
                    direction="ltr"
                    size="20%"
                    :modal="false">
                <span>我来啦!</span>
            </el-drawer>
            <!--目录结构-->
            <el-drawer
                    title="我是外面的 Drawer"
                    direction="rtl"
                    :visible.sync="dir_drawer"
                    size="40%">
                <div>
                    <el-link>目录搜索</el-link>
                </div>
                <el-cascader
                        placeholder="搜索目录"
                        :options="blogOptions"
                        :filter-method="filter"
                        :show-all-levels="false"
                        :props="blogProps"
                        clearable
                        :debounce="150"
                        filterable>
                </el-cascader>

                <div>
                    <el-link>当前标题搜索</el-link>
                </div>
                <el-cascader
                        placeholder="搜索标题"
                        :options="headerOptions"
                        :props="headerProps"
                        :filter-method="filter"
                        :show-all-levels="false"
                        clearable
                        :debounce="150"
                        filterable>
                </el-cascader>

            </el-drawer>


        <!-- 博客内容（必须要放在最下面，不然会影响elementUI解析） -->
        <div><h1>11221312312312</h1></div>





    </div>
</body>
<!--vue.js-->
<!--<script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"></script>-->
<script src="https://cdn.bootcss.com/vue/2.6.10/vue.common.dev.js"></script><!--开发的时候使用生产模式-->
<!--axios.js-->
<script src="https://cdn.bootcss.com/axios/0.19.0-beta.1/axios.min.js"></script>
<!--element.js-->
<script src="https://cdn.bootcss.com/element-ui/2.12.0/index.js"></script>
<!--代码高亮js-->
<script src="https://cdn.bootcss.com/prism/1.17.1/components/prism-core.min.js"></script>
<script src="https://cdn.bootcss.com/prism/1.17.1/plugins/autoloader/prism-autoloader.min.js"></script>
<!--代码行号js-->
<script src="https://cdn.bootcss.com/prism/1.17.1/plugins/line-numbers/prism-line-numbers.min.js"></script>
<!--代码工具条js-->
<script src="https://cdn.bootcss.com/prism/1.17.1/plugins/toolbar/prism-toolbar.min.js"></script>
<!--代码复制js-->
<script src="https://cdn.bootcss.com/prism/1.17.1/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
<script>
    //全局快捷键
    var q_key=81;
    var Q_key=113;
    var w_key=87;
    var W_key=119;
    document.onkeypress=function (event) {
        var key = event.keyCode;
        if(event.shiftKey && (key==q_key || key==Q_key)){
            vue.outline_drawer=!vue.outline_drawer;
            event.preventDefault();//阻止默认事件
        }else if(event.shiftKey && (key==w_key || key==W_key)){
            vue.dir_drawer=!vue.dir_drawer;
            event.preventDefault();//阻止默认事件
        }
    }


    var vue=new Vue({
        el: '#app',
        data: {
            outline_drawer: false,
            dir_drawer: false,
            blogProps: {
                value:'file',
                label:'name',
                children:'child'
            },
            headerProps:{
                value:'headerName',
                label:'headerName',
                children:'child'
            },
            blogOptions: [],
            headerOptions:[],
        },
        created:function(){
            var _this=this;
            axios.get('/getDir')
                .then(function (response) {
                    _this.blogOptions=response.data;
                });
            axios.get('/getHeaders/afcbf031-8e4e-4233-83f5-5799e678611a')
                .then(function (response) {
                    response.data.map(item=>{item.child=null})
                    console.log(response.data)
                    _this.headerOptions=response.data;
                });
        },
        methods:{
            filter:function (node,keyword) {
                //过滤不区分大小写
                if(node.label.toLowerCase().indexOf(keyword.toLowerCase())!=-1){
                    return true;
                }
            }
        }

    })
</script>
</html>